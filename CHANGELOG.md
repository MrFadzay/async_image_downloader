# История изменений

## Версия 2.1.0 (текущая)
- **Основные изменения:**
  - Удален "безопасный" режим скачивания для упрощения кодовой базы
  - Оптимизирован единый быстрый режим для максимальной производительности
  - Удалены все зависимости от Playwright и связанного кода
- **Рефакторинг ядра:**
  - Упрощена архитектура загрузчика, убраны лишние абстракции
  - Оптимизирована работа с семафорами для параллельных загрузок
  - Улучшена обработка ошибок и повторные попытки
- **Обновление CLI и конфигурации:**
  - Удалены устаревшие параметры режимов
  - Упрощен пользовательский интерфейс
  - Оптимизированы настройки параллельной загрузки
- **Документация:**
  - Обновлены README.md, help.txt и другие файлы
  - Удалены упоминания режимов скачивания
  - Добавлена актуальная информация о производительности

## Версия 2.0.0
- **Переход на curl_cffi** - замена двухрежимной системы (aiohttp + Playwright) на единый универсальный режим
- **Улучшенная совместимость с PyInstaller** - решены все проблемы со сборкой исполняемых файлов
- **Упрощенная архитектура** - убраны сложности выбора режима, теперь один режим работает везде
- **Сохранена вся функциональность** - обход защиты сайтов работает так же эффективно
- **Уменьшен размер приложения** - убраны тяжелые зависимости Playwright
- **Удален параметр `--browser-mode`** - больше не нужен, так как единый режим работает универсально
- **Обновлена документация** - приведена в соответствие с новой архитектурой

## Версия 1.4.0 (устарела)
- **Добавлен браузерный режим** для обхода защиты сайтов типа Avito
- Автоматическая установка браузера при первом использовании браузерного режима
- Новый параметр `--browser-mode` для включения браузерного режима
- Два режима работы: быстрый (aiohttp) и браузерный (Playwright)
- Улучшена производительность быстрого режима в 2-3 раза
- Graceful fallback: автоматическое переключение на быстрый режим при ошибках браузерного

## Версия 1.3.0
- **Добавлена поддержка задержки между запросами** для предотвращения блокировки со стороны сайтов (особенно актуально для Авито)
- Новый параметр `--delay` в командной строке для настройки задержки в секундах
- В интерактивном режиме добавлен вопрос о задержке при скачивании изображений
- Рекомендуемая задержка 1-3 секунды для сайтов с защитой от частых запросов

## Версия 1.2.0
- Реорганизовано главное меню: объединены функции работы с дубликатами в подменю "Работа с дубликатами"
- Добавлена новая функция "Уникализация" для обработки всех изображений в директории
- Добавлена CLI команда `uniquify-all` для уникализации всех изображений
- Улучшена структура интерфейса для более логичной навигации

## Версия 1.1.0
- Добавлена поддержка нового формата файлов с URL (ссылки в столбик)
- Улучшено определение дубликатов с использованием трех алгоритмов хеширования
- Исправлена проблема с перезаписью одинаковых ссылок
- Улучшена нумерация дубликатов
- Добавлена поддержка кириллических имен папок
- Исправлена обработка путей с пробелами и специальными символами