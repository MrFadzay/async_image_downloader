"""
–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ —Å–ø—Ä–∞–≤–∫–∏.
"""

from typing import List


class UserGuidance:
    """–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""

    OPERATION_TIPS = {
        "download": [
            "üí° –°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --enable-pause-resume –¥–ª—è –±–æ–ª—å—à–∏—Ö –∑–∞–≥—Ä—É–∑–æ–∫",
            "üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, WebP, GIF",
            "‚ö° –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫",
            "üíæ –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ ./images/downloaded_images/",
            "üîÑ –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏",
        ],
        "find_duplicates": [
            "üîç –ü–æ–∏—Å–∫ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–º —Å—Ö–æ–¥—Å—Ç–≤–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "üì∏ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º—ã phash, dhash –∏ average_hash",
            "üìÇ –î—É–±–ª–∏–∫–∞—Ç—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é—Ç—Å—è —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º '_duplicate_N'",
            "‚ö†Ô∏è –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π",
            "üí° –°–æ–≤–µ—Ç: –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π",
        ],
        "uniquify": [
            "üé® –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã",
            "üîß –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è: —è—Ä–∫–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–∞—Å—Ç, –æ–±—Ä–µ–∑–∫–∞, —à—É–º",
            "‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã!",
            "üíæ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é",
            "üöÄ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --yes –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞",
        ],
        "uniquify_all": [
            "üé® –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –í–°–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
            "‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –û–ø–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞!",
            "üõë –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
            "üéØ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
        ],
    }

    FIRST_TIME_TIPS = [
        "üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Async Image Downloader!",
        "üí° –ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–º–∞–Ω–¥—ã 'download' –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
        "üìö –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'python main.py --help' –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–ø—Ä–∞–≤–∫–∏",
        "üîß –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",
        "üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ ./images/",
    ]

    COMMON_ISSUES = {
        "no_images_found": {
            "message": "–í —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "solutions": [
                "üìÅ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
                "üñºÔ∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: .jpg, .jpeg, .png, .webp, .gif",
                "üëÅÔ∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Å–∫—Ä—ã—Ç—ã–º–∏ (–Ω–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Ç–æ—á–∫–∏)",
                "üìÇ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
            ],
        },
        "no_duplicates": {
            "message": "–î—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
            "solutions": [
                "‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã",
                "üîç –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö",
                "üì∏ –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è",
                "üéØ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'uniquify-all' –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            ],
        },
        "download_errors": {
            "message": "–û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "solutions": [
                "üåê –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É",
                "üîó –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL-–∞–¥—Ä–µ—Å–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ",
                "‚è∞ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è",
                "üîÑ –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∞–π—Ç—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤",
            ],
        },
        "permission_denied": {
            "message": "–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
            "solutions": [
                "üîê –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",
                "üìù –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏",
                "üîì –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏",
                "üìÅ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é",
            ],
        },
    }

    @classmethod
    def show_operation_tips(cls, operation: str) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–≤–µ—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏."""
        tips = cls.OPERATION_TIPS.get(operation, [])
        if tips:
            print(f"\nüí° –ü–û–õ–ï–ó–ù–´–ï –°–û–í–ï–¢–´ - {operation.upper()}")
            print("=" * 50)
            for tip in tips:
                print(f"   {tip}")
            print()

    @classmethod
    def show_welcome_message(cls) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""
        print("\n" + "üåü" * 20)
        for tip in cls.FIRST_TIME_TIPS:
            print(f"   {tip}")
        print("üåü" * 20 + "\n")

    @classmethod
    def show_help_for_issue(cls, issue_key: str) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ."""
        issue_info = cls.COMMON_ISSUES.get(issue_key, {})
        if issue_info:
            print(f"\n‚ùì –ü–†–û–ë–õ–ï–ú–ê: {issue_info['message']}")
            print("=" * 60)
            print("üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:")
            for solution in issue_info["solutions"]:
                print(f"   {solution}")
            print()

    @classmethod
    def get_operation_summary(cls, operation: str, **kwargs) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –æ–± –æ–ø–µ—Ä–∞—Ü–∏–∏."""
        summaries = {
            "download": f"üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ {kwargs.get('count', 0)} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "find_duplicates": f"üîç –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ {kwargs.get('directory', '–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏')}",
            "uniquify": f"üé® –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ {kwargs.get('directory', '–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏')}",
            "uniquify_all": f"üé® –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ {kwargs.get('directory', '–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏')}",
        }
        return summaries.get(operation, f"‚öôÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: {operation}")

    @classmethod
    def show_safety_warning(cls, operation: str) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π."""
        if operation in ["uniquify", "uniquify_all"]:
            print("\n" + "‚ö†Ô∏è" * 25)
            print("   üõë –í–ê–ñ–ù–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï –û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò üõë")
            print("‚ö†Ô∏è" * 25)
            print("   üìÅ –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏!")
            print("   üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥—É—Ç –ù–ï–û–ë–†–ê–¢–ò–ú–´!")
            print("   üíæ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–ø–∏–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏!")
            print("‚ö†Ô∏è" * 25 + "\n")

    @classmethod
    def format_file_size(cls, size_bytes: int) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        for unit in ["–ë", "–ö–ë", "–ú–ë", "–ì–ë"]:
            if size_bytes < 1024.0:
                return f"{size_bytes:.1f} {unit}"
            size_bytes /= 1024.0
        return f"{size_bytes:.1f} –¢–ë"

    @classmethod
    def format_duration(cls, seconds: float) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        if seconds < 60:
            return f"{seconds:.1f} —Å–µ–∫"
        elif seconds < 3600:
            return f"{seconds/60:.1f} –º–∏–Ω"
        else:
            return f"{seconds/3600:.1f} —á"

    @classmethod
    def show_performance_tips(cls, operation_time: float, items_processed: int) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."""
        if items_processed == 0:
            return

        avg_time = operation_time / items_processed

        print(f"\nüìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò:")
        print(f"   ‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç: {avg_time:.2f} —Å–µ–∫")
        print(f"   üöÄ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É: {1/avg_time:.1f}")

        if avg_time > 2:
            print(f"\nüí° –°–û–í–ï–¢–´ –î–õ–Ø –£–°–ö–û–†–ï–ù–ò–Ø:")
            print(f"   üñºÔ∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞")
            print(f"   üíæ –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ")
            print(f"   üîÑ –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã")

    @classmethod
    def get_progress_emoji(cls, progress: float) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞."""
        if progress < 0.1:
            return "üü¶"
        elif progress < 0.3:
            return "üü®"
        elif progress < 0.7:
            return "üüß"
        elif progress < 0.9:
            return "üü©"
        else:
            return "‚úÖ"


class InteractiveHelper:
    """–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""

    @staticmethod
    def ask_for_confirmation_with_info(message: str, info_lines: List[str]) -> bool:
        """–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π."""
        print(f"\n‚ùì {message}")
        if info_lines:
            print("‚ÑπÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:")
            for line in info_lines:
                print(f"   {line}")

        while True:
            response = input("\n   –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): ").lower().strip()
            if response in ["y", "yes", "–¥–∞"]:
                return True
            elif response in ["n", "no", "–Ω–µ—Ç"]:
                return False
            else:
                print("   –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ 'y' –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–ª–∏ 'n' –¥–ª—è –æ—Ç–º–µ–Ω—ã")

    @staticmethod
    def show_progress_with_eta(current: int, total: int, start_time: float) -> None:
        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –æ—Ü–µ–Ω–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è."""
        import time

        if current == 0:
            return

        elapsed = time.time() - start_time
        rate = current / elapsed
        remaining = (total - current) / rate if rate > 0 else 0

        progress = current / total
        progress_emoji = UserGuidance.get_progress_emoji(progress)

        print(
            f"   {progress_emoji} {current}/{total} "
            f"({progress*100:.1f}%) - "
            f"–û—Å—Ç–∞–ª–æ—Å—å: {UserGuidance.format_duration(remaining)}"
        )


def show_context_sensitive_help(operation: str, error_occurred: bool = False) -> None:
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏.

    Args:
        operation: –ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        error_occurred: –ü—Ä–æ–∏–∑–æ—à–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞
    """
    if error_occurred:
        UserGuidance.show_help_for_issue(
            "download_errors" if operation == "download" else "permission_denied"
        )
    else:
        UserGuidance.show_operation_tips(operation)
