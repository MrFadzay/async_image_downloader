## Справка по использованию программы "Async Image Downloader and Processor"

Эта программа предназначена для асинхронного скачивания изображений и управления дубликатами. Она разработана для интерактивного использования, чтобы вам было максимально удобно работать с ней.

### Как запустить программу:

Просто запустите исполняемый файл программы (например, `image_tool.exe` в Windows или `image_tool` в Linux/macOS) без каких-либо дополнительных аргументов.

Пример запуска:
```
image_tool.exe
```
или
```
./image_tool
```

### Интерактивное меню:

После запуска программы вы увидите главное меню с несколькими опциями. Используйте стрелки вверх/вниз для навигации и Enter для выбора.

1.  **Скачать изображения**
    *   Эта опция позволяет скачивать изображения.
    *   После выбора вам будет предложено выбрать источник:
        *   **Из файла**: Укажите путь к текстовому файлу с URL-адресами изображений. Файл может быть в одном из двух форматов:
            
            **Формат 1**: Каждая строка содержит имя папки, за которой следуют URL-адреса изображений:
            ```
            папка 1 https://example.com/img1.jpg https://example.com/img2.png
            папка 2 https://example.com/img3.jpg
            ```
            
            **Формат 2**: Имя папки в отдельной строке, а URL-адреса в следующих строках:
            ```
            папка 3
            https://example.com/img4.jpg
            https://example.com/img5.png
            ```
            
            Программа автоматически определяет формат и создает соответствующие папки.
            
        *   **По списку URL**: Введите URL-адреса изображений через пробел или точку с запятой. Программа также спросит имя папки, куда сохранить эти изображения (по умолчанию `manual_downloads`).

2.  **Работа с дубликатами**
    *   Эта опция открывает подменю для работы с дубликатами изображений:
        *   **Найти и переименовать дубликаты**: Сканирует указанную директорию на наличие дубликатов изображений (на основе визуального сходства). Найденные дубликаты будут переименованы с добавлением суффикса `_duplicate_N` (например, `image_duplicate_1.jpeg`). Программа использует комбинацию из трех алгоритмов хеширования для точного определения дубликатов.
        *   **Уникализировать дубликаты**: Сканирует указанную директорию на наличие дубликатов и попытается слегка изменить только дубликаты (яркость, контраст, обрезка, добавление шума), чтобы сделать их уникальными, сохраняя при этом их основное визуальное содержание.
        *   **Назад**: Возврат в главное меню.

3.  **Уникализация**
    *   Эта опция уникализирует все изображения в указанной директории, независимо от того, являются ли они дубликатами.
    *   К каждому изображению применяются случайные модификации (яркость, контраст, обрезка, добавление шума).
    *   Это полезно, когда нужно сделать уникальными все изображения для поисковых систем.
    *   Вам будет предложено указать путь к директории для уникализации всех изображений.

4.  **Выход**
    *   Завершает работу программы.

### Особенности работы с файлами:

* Программа не перезаписывает файлы при скачивании одинаковых ссылок, а добавляет счетчик к имени файла (например, `1000.1.jpeg`, `1000.2.jpeg`).
* При обработке путей программа корректно работает с кириллическими символами и путями, содержащими пробелы.
* Все операции выполняются асинхронно, что значительно ускоряет процесс скачивания и обработки изображений.

Программа выводит подробную информацию о ходе выполнения в консоль и сохраняет логи в файл `app.log`.
